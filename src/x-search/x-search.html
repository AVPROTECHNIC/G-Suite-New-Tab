<!-- Element -->
<dom-module id="x-search">
  <template>

    <!-- CSS -->
    <style>

      /* Element */
      :host {
        color: var(--light-gray-text-color);
        display: block;
      }

      /* Google logo */
      div.logo {}
      div.logo img {
        display: block;
        margin: 64px auto 6px auto;
        max-width: 20%;
      }

      /* Logo subtitle */
      div.subtitle {
        font-size: 1.4em;
        margin: auto auto 32px auto;
        max-width: 20%;
        text-align: right;
      }

      /* Search wrapper */
      div.searchWrapper {
        margin: auto;
        max-width: 980px;
        padding: 0 12px;
        width: 100%;
      }

      /* Search wrapper - Search wrapper */
      div.searchWrapper div.search {
        @apply(--layout-horizontal);
        @apply(--shadow-elevation-2dp);
        background: white;
        box-sizing: border-box;
        border-radius: 3px;
        padding: 8px 20px 5px 20px;
      }

      /* Search wrapper - Search wrapper - Icon button */
      div.searchWrapper div.search paper-icon-button {}

      /* Search wrapper - Search wrapper - Input */
      div.searchWrapper div.search input {
        @apply(--layout-flex);
        background: transparent;
        border: none;
        color: #666;
        font-size: 1.4em;
        margin: 0 12px;
        outline: none;
      }

    </style>

    <!-- Google logo -->
    <div class="logo"><img src="../../images/google-logo.png"></div>
    <div class="subtitle">G Suite New Tab</div>

    <!-- Search input -->
    <div class="searchWrapper">
      <div class="search">
        <paper-icon-button icon="icons:search"></paper-icon-button>
        <input type="text" id="search" on-keyup="_searchKeyUp">
      </div>
    </div>

  </template>
  <script>
    (function () {
      'use strict';
      Polymer({

        /**
         * Element configuration (is, behaviors, properties, observers).
         */
        is: 'x-search',

        /**
         * Redirect user to new tab with search query from search input.
         *
         * @param event
         * @private
         */
        _searchKeyUp: function (event) {
          if (event.keyCode === 13) {
            chrome.tabs.create({ url: 'https://google.com/search?q=' + this.$.search.value });
          }
        }

      });
    })();
  </script>
</dom-module>
